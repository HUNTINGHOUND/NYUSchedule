(this.webpackJsonpnyuschedule=this.webpackJsonpnyuschedule||[]).push([[0],{219:function(e,t,a){},220:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(28),c=a.n(r),l=a(3),s=a(4),i=a(39),o=a(50),u=a.n(o),d=a(15),h=function(e){var t=Object(n.useState)(e),a=Object(s.a)(t,2),r=a[0],c=a[1],l=Object(n.useCallback)((function(e){c((function(t){return[].concat(Object(d.a)(t),[e])}))}),[c]),i=Object(n.useCallback)((function(e){e<0||e>=r.length||c((function(t){var a=Object(d.a)(t);return a.splice(e,1),a}))}),[c,r.length]),o=Object(n.useCallback)((function(e,t){c((function(a){var n=Object(d.a)(a);return n[e]=t,n}))}),[c]),u=Object(n.useCallback)((function(e){c((function(t){return[].concat(Object(d.a)(t),Object(d.a)(e))}))}),[c]);return{list:r,addList:l,deleteList:i,updateList:o,concatList:u,setList:c}},j=a(11),b=a.n(j),f=a(64),m=a(5),O=function(e){return Object(m.jsxs)("li",{children:[Object(m.jsxs)("b",{style:{float:"left",paddingRight:"10px"},children:[e.name,":"]})," ",Object(m.jsx)("div",{style:{float:"left"},children:e.message})]})},v=function(e){var t=h([]),a=function(e){var t="";if(!e)return"No profile on RMP";for(var a=0,n=Object.entries(e);a<n.length;a++){var r=Object(s.a)(n[a],2),c=r[0],l=r[1];"url"!==c&&"tid"!==c&&(t+="<br />".concat(c,": ").concat("Tags"===c?l.join(", "):l))}return 0===t.length?"No profile on RMP":t};Object(n.useEffect)((function(){if(t.setList([]),e.info.Instructor){var a,n=Object(i.a)(e.info.Instructor);try{for(n.s();!(a=n.n()).done;){var r=a.value;if("Staff"!==r){var c="name="+r;u.a.get("https://api.nyuschedule.com/rmp/getProf?"+c).then((function(e){t.addList(e.data)}))}else t.addList({})}}catch(l){n.e(l)}finally{n.f()}}}),[e.info]),Object(n.useEffect)((function(){f.a.rebuild()}));return Object(m.jsxs)("button",{className:"search-item",onClick:function(t){if("A"!==t.target.tagName){var a,n=e.info["Days/Times"].substr(0,e.info["Days/Times"].search(" ")),r=e.info["Days/Times"].substr(e.info["Days/Times"].search(" ")+1),c=n.split(","),l=b()(r.split(" - ")[0],"hh.mm A"),s=b()(r.split(" - ")[1],"hh.mm A"),o=Object(i.a)(c);try{for(o.s();!(a=o.n()).done;){var u=a.value,d=b()(),h=b()();if("Mon"===u)d=b()().day(1),h=b()().day(1);else if("Tue"===u)d=b()().day(2),h=b()().day(2);else if("Wed"===u)d=b()().day(3),h=b()().day(3);else if("Thu"===u)d=b()().day(4),h=b()().day(4);else{if("Fri"!==u)continue;d=b()().day(5),h=b()().day(5)}d.hour(l.hour()),d.minute(l.minute()),d.second(0),h.hour(s.hour()),h.minute(s.minute()),h.second(0),e.handleAddCourse(d,h,e.info["Class#"])}}catch(j){o.e(j)}finally{o.f()}}},children:[Object(m.jsx)("div",{className:"item-name",children:e.info.class_name}),Object(m.jsx)("div",{className:"info-container","data-tip":e.info.Notes?e.info.Notes:"No Notes",children:Object(m.jsx)("span",{className:"info-circle",children:"i"})}),Object(m.jsx)("ul",{className:"item-attrib-collection",children:function(){for(var n=[],r=0,c=0,l=Object.entries(e.info);c<l.length;c++){var i=Object(s.a)(l[c],2),o=i[0],u=i[1];if("class_name"!==o&&"Notes"!==o)if("Instructor"===o)for(var d=0;d<u.length;d+=1)n.push(Object(m.jsx)(O,{name:o,message:Object(m.jsx)("a",{href:t.list[d]&&t.list[d].url?"//"+t.list[d].url:"#","data-tip":a(t.list[d]),target:"_blank",rel:"noreferrer",onClick:function(){},children:u[d]})},r)),r+=1;else n.push(Object(m.jsx)(O,{name:o,message:"Class Status"===o?"Open"===u?Object(m.jsx)("div",{style:{color:"blue",float:"left"},children:u}):"Closed"===u||"Cancelled"===u?Object(m.jsx)("div",{style:{color:"red"},children:u}):Object(m.jsx)("div",{style:{color:"#FF8C00"},children:u}):u},r)),r+=1}return n}()})]})},g=function(e){var t=function(t,a,n){var r=e.name.match(/\w+-\w+.*\d+/)[0].slice(0,-1);e.handleAddCourse(t,a,r+"\n"+n)};return Object(m.jsxs)("div",{className:"course-cata",children:[Object(m.jsx)("h3",{className:"course-title",style:{whiteSpace:"pre-line"},children:e.name}),function(){var a,n=[],r=0,c=Object(i.a)(e.course.classes);try{for(c.s();!(a=c.n()).done;){var l=a.value;n.push(Object(m.jsx)(v,{info:l,handleAddCourse:t},r)),r++}}catch(s){c.e(s)}finally{c.f()}return n}()]})},p=function(e){return Object(m.jsxs)("div",{className:"searcher-display",children:[Object(m.jsx)("h1",{children:"Search Results"}),Object(m.jsx)("div",{className:"display",children:function(){var t=[];if(!e.data)return t;for(var a=0,n=0,r=Object.entries(e.data);n<r.length;n++){var c=Object(s.a)(r[n],2),l=c[0],i=c[1];t.push(Object(m.jsx)(g,{course:i,name:l,handleAddCourse:e.handleAddCourse},a)),a++}return t}()})]})},y=a(65),x=a(46),C=a.n(x),k=a(226),w=a(225),S=a(74),N=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=Object(n.useState)("idle"),r=Object(s.a)(a,2),c=r[0],l=r[1],i=Object(n.useState)(null),o=Object(s.a)(i,2),u=o[0],d=o[1],h=Object(n.useState)(null),j=Object(s.a)(h,2),b=j[0],f=j[1],m=Object(n.useCallback)((function(){return l("pending"),d(null),f(null),e().then((function(e){d(e),l("success")})).catch((function(e){f(e),l("error")}))}),[e]);return Object(n.useEffect)((function(){t&&m()}),[m,t]),{execute:m,status:c,value:u,error:b}},I=k.a.Option,L=function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),r=a[0],c=a[1];Object(n.useEffect)((function(){u.a.get("https://api.nyuschedule.com/albert/getoptions").then((function(e){c(e.data)}))}),[]);var l=Object(n.useState)(""),o=Object(s.a)(l,2),d=o[0],h=o[1],j=Object(n.useState)(""),b=Object(s.a)(j,2),f=b[0],O=b[1],v=Object(n.useState)(""),g=Object(s.a)(v,2),p=g[0],x=g[1],L=Object(n.useCallback)(Object(y.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="term=".concat(d,"&school=").concat(f,"&major=").concat(p),"https://api.nyuschedule.com/albert/getcourse",e.next=4,u.a.get("https://api.nyuschedule.com/albert/getcourse?"+t);case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)}))),[d,f,p]),H=N(L,!1);Object(n.useEffect)((function(){"success"===H.status&&e.handleSearch(H.value)}),[H.value,H.status,e]);return Object(m.jsxs)("div",{className:"search-option",children:[Object(m.jsxs)("div",{className:"select-container",children:[Object(m.jsxs)("div",{className:"search-field",children:[Object(m.jsx)("label",{children:"*Term"}),Object(m.jsx)("div",{className:"search-select",children:Object(m.jsx)(k.a,{style:{width:"100%"},showSearch:"showSearch",placeholder:"Select a term",optionFilterProp:"children",onChange:function(e){h(e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){var a=parseInt(e.value.substr(e.value.search(" ")+1),10),n=e.value.substr(0,e.value.search(" ")),r=parseInt(t.value.substr(t.value.search(" ")+1),10),c=t.value.substr(0,t.value.search(" "));return a!==r?a<r:(n="January"===n?1:"Spring"===n?2:"Summer"===n?3:4,"January"===c?n=1:"Spring"===c?n=2:"Summer"===c?n=3:c=4,n<c)},children:function(){var e=[];if(!r)return e;var t=0;for(var a in r)e.push(Object(m.jsx)(I,{value:a,children:a},t)),t+=1;return e}()})})]}),Object(m.jsxs)("div",{className:"search-field",children:[Object(m.jsx)("label",{children:"*School"}),Object(m.jsx)("div",{className:"search-select",children:Object(m.jsx)(k.a,{style:{width:"100%"},showSearch:"showSearch",placeholder:"Select a school",optionFilterProp:"children",onChange:function(e){O(e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:function(){var e=[];if(""===d)return e.push(Object(m.jsx)(I,{value:"",children:"Select a term first"},0)),e;var t=0;for(var a in r[d])e.push(Object(m.jsx)(I,{value:a,children:a},t)),t+=1;return e}()})})]}),Object(m.jsxs)("div",{className:"search-field",children:[Object(m.jsx)("label",{children:"*Subject"}),Object(m.jsx)("div",{className:"search-select",children:Object(m.jsx)(k.a,{style:{width:"100%"},showSearch:"showSearch",placeholder:"Select a subject",optionFilterProp:"children",onChange:function(e){x(e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:function(){var e=[];if(""===f)return e.push(Object(m.jsx)(I,{value:"",children:"Select a school first"},0)),e;var t,a=0,n=Object(i.a)(r[d][f]);try{for(n.s();!(t=n.n()).done;){var c=t.value;e.push(Object(m.jsx)(I,{value:c,children:c},a)),a+=1}}catch(l){n.e(l)}finally{n.f()}return e}()})})]})]}),Object(m.jsxs)("div",{className:"input-container",children:[Object(m.jsxs)("div",{className:"search-field",children:[Object(m.jsx)("label",{children:"Keyword"}),Object(m.jsx)("div",{className:"search-input",children:Object(m.jsx)(w.a,{style:{width:"100%"},placeholder:"Input keyword",onChange:function(t){e.handleKeywordChange(t.target.value)}})})]}),Object(m.jsx)("div",{className:"small-container",children:Object(m.jsxs)("div",{className:"search-field",children:[Object(m.jsx)("label",{children:"Catalog Number"}),Object(m.jsx)("div",{className:"search-input",children:Object(m.jsx)(w.a,{style:{width:"100%"},placeholder:"Input catalog",onChange:function(t){console.log("Change catalog",t.target.value),e.handleCatalogChange(t.target.value)}})}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{children:"\xa0"}),Object(m.jsx)("div",{children:"\xa0"}),"\xa0"]})]})})]}),Object(m.jsx)(S.a,{style:{float:"left"},type:"primary",onClick:H.execute,disabled:"pending"===H.status,children:"Search"})]})},H=function(e){var t=Object(n.useState)({}),a=Object(s.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(""),i=Object(s.a)(l,2),o=i[0],u=i[1],d=Object(n.useState)(""),h=Object(s.a)(d,2),j=h[0],b=h[1],f=Object(n.useState)(""),O=Object(s.a)(f,2),v=(O[0],O[1]),g=Object(n.useMemo)((function(){var e={};for(var t in r)t.search(o)>=0&&(e[t]=r[t]);var a={};for(var n in e)n.search(j)>=0&&(a[n]=e[n]);return a}),[r,o,j]);return Object(m.jsxs)("div",{className:"searcher",children:[Object(m.jsx)(L,{handleSearch:function(e){c(e)},handleCatalogChange:function(e){return u(e)},handleKeywordChange:function(e){return b(e)},handleClassChange:function(e){return v(e)}}),Object(m.jsx)(p,{data:g,handleAddCourse:e.handleAddCourse})]})},A=a(107),T=a.n(A),D=function(e){return Object(m.jsxs)("div",{className:"calendar-event",style:{background:e.color},children:[Object(m.jsx)("span",{children:"".concat(e.start.format("HH:mm")," - ").concat(e.end.format("HH:mm"))}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{children:e.value})]})},F=a(224),M=["whitesmoke","wheat","violet","thistle","tan","steelblue","snow","slateblue","sienna","seagreen","salmon","yellowgreen","saddlebrown","royalblue","tomato","powderblue","pink","palevioletred","paleturquoise","palegoldenrod","orchid","papayawhip","orangered","orange","olivedrab","oldlace","mintcream","midnightblue","mediumvioletred","mediumturquoise","mediumspringgreen","mediumslateblue","mediumseagreen","limegreen","aliceblue","lightslategrey","sandybrown","lightseagreen","slategrey","lightsalmon","mediumpurple","deeppink","lightgreen","teal","lightgray","aqua","lightcoral","lemonchiffon","indigo","hotpink","azure","grey","lightskyblue","honeydew","gold","gainsboro","ghostwhite","linen","black","forestgreen","floralwhite","firebrick","chocolate","dodgerblue","antiquewhite","dimgrey","dimgray","lavender","lightgrey","deepskyblue","blue","darkred","ivory","darkturquoise","mistyrose","lavenderblush","darkslategray","navajowhite","lightslategray","magenta","lightsteelblue","darkseagreen","cornsilk","darkorange","darkslategrey","khaki","darkorchid","moccasin","greenyellow","darkblue","darkolivegreen","slategray","silver","lime","darkgreen","palegreen","gray","red","beige","darksalmon","lightcyan","plum","lightblue","darkgray","darkgoldenrod","maroon","cyan","mediumorchid","chartreuse","darkmagenta","crimson","rosybrown","coral","mediumblue","bisque","darkviolet","darkslateblue","skyblue","burlywood","peachpuff","blueviolet","blanchedalmond","goldenrod","lightpink","darkgrey","springgreen","aquamarine","mediumaquamarine","turquoise","brown","lawngreen","olive","white","indianred","green","navy","darkkhaki","yellow","lightyellow","seashell","cadetblue","lightgoldenrodyellow","darkcyan","purple","peru","cornflowerblue","fuchsia"],P=k.a.Option,q=F.a.RangePicker,R=function(e){var t=Object(n.useState)(e.value),a=Object(s.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(e.color),i=Object(s.a)(l,2),o=i[0],u=i[1],h=Object(n.useState)(e.start),j=Object(s.a)(h,2),b=j[0],f=j[1],O=Object(n.useState)(e.end),v=Object(s.a)(O,2),g=v[0],p=v[1],y=Object(n.useMemo)((function(){return M.map((function(e,t){return Object(m.jsxs)(P,{value:e,children:[Object(m.jsx)("div",{className:"color-box",style:{backgroundColor:e}}),e]},t)}))}),[]);return Object(m.jsxs)("div",{className:"modal",children:[Object(m.jsx)("div",{className:"modal-text",children:b.isSame(g,"day")?Object(m.jsx)("span",{children:"".concat(b.format("HH:mm")," - ").concat(g.format("HH:mm"))}):Object(m.jsx)("span",{children:"".concat(b.format("Do MMM.")," - ").concat(g.format("Do MMM."),", ").concat(b.format("HH:mm")," - ").concat(g.format("HH:mm"))})}),Object(m.jsx)(q,{className:"modal-picker",defaultValue:[b,g],onChange:function(e){f(e[0]),p(e[1])},format:"HH:mm",minuteStep:5,disabledHours:function(){return[].concat(Object(d.a)(Array(6).keys()),Object(d.a)(Array.from(Array(4).keys()).map((function(e){return e+20}))))}}),Object(m.jsx)(w.a,{className:"modal-input",type:"text",placeholder:"Enter something",defaultValue:e.value,onChange:function(e){return c(e.target.value)}}),Object(m.jsx)(k.a,{showSearch:!0,className:"modal-select",placeholder:"Select Color",optionFilterProp:"children",filterOption:function(e,t){return t.value.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.value.toLowerCase().localeCompare(t.value.toLowerCase())},onSelect:function(e){return u(e)},defaultValue:e.color,children:y}),Object(m.jsx)(S.a,{className:"modal-button",onClick:function(){return e.onRemove()},children:"edit"===e.actionType?"Delete":"Cancel"}),Object(m.jsx)(S.a,{className:"modal-button float-right",onClick:function(){e.onSave({start:b,end:g,value:r,color:o})},children:"Save"})]})},U=function(e){return Object(m.jsx)("div",{className:"calendar",children:Object(m.jsx)(T.a,{eventComponent:D,modalComponent:R,firstDay:b()().day(1),dayFormat:"ddd",scaleUnit:5,startTime:b()({h:6,m:0}),endTime:b()({h:21,m:0}),numberOfDays:5,selectedIntervals:e.selectedIntervals,onIntervalSelect:e.handleIntervalSelect,onIntervalUpdate:e.handleIntervalUpdate,onIntervalRemove:e.handleIntervalRemove})})},E=function(){var e=h([]),t=Object(n.useState)(1),a=Object(s.a)(t,2),r=a[0],c=a[1];return Object(m.jsxs)("div",{className:"main",children:[Object(m.jsx)(H,{handleAddCourse:function(t,a,n){var l={start:t,end:a,value:n,uid:r,color:"DodgerBlue"};e.addList(l),c((function(e){return e+1}))}}),Object(m.jsx)(U,{selectedIntervals:e.list,handleIntervalSelect:function(t){var a=t.map((function(e,t){return Object(l.a)(Object(l.a)({},e),{},{uid:r+t})}));e.concatList(a),c((function(e){return e+1}))},handleIntervalUpdate:function(t){var a=e.list.findIndex((function(e){return e.uid===t.uid}));a>-1&&e.updateList(a,t)},handleIntervalRemove:function(t){var a=e.list.findIndex((function(e){return e.uid===t.uid}));a>-1&&e.deleteList(a)}})]})},J=function(){return Object(m.jsxs)("div",{className:"topbar",children:["A NYU course schedule helper site developed by ",Object(m.jsx)("a",{className:"git-link",href:"https://github.com/HUNTINGHOUND",children:"Morgan Xu"})]})},B=a(108),K=function(){return Object(m.jsxs)("div",{className:"app",children:[Object(m.jsx)(B.a,{children:Object(m.jsx)("title",{children:"NYUSchedule"})}),Object(m.jsx)(J,{}),Object(m.jsx)(E,{}),Object(m.jsx)(f.a,{place:"right",type:"dark",effect:"solid",multiline:!0})]})},V=(a(219),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,228)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),c(e),l(e)}))});c.a.render(Object(m.jsx)(K,{}),document.getElementById("root")),V()}},[[220,1,2]]]);
//# sourceMappingURL=main.e82667c3.chunk.js.map